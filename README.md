# apisrv_tests

ApiServer class actually demonstrates how use an SQL baseline setup to generate a valid json based schema in Java.
The baseline.sql file is meant for a mysql database.
In order to execute the example, just execute: mktest (this script is meant for a macosx environment; but its content can be easily changed for other working environments).

The current baseline is confiuged for the CSGF real cases of rOCCI infrastructures and EMIGrid; below generated outputs:

## rOCCI
```
{  
   "rOCCI-infrastructure":[  
      {  
         "infrastructure":[  
            {  
               "genericInfo":{  
                  "Name":"",
                  "Description":"",
                  "Enabled":""
               }
            },
            {  
               "robotSecuriry":{  
                  "eTokenHost":"",
                  "eTokenPort":"",
                  "eTokenMd5Sum":"",
                  "eTokenVO":"",
                  "eTokenVOGroup":"",
                  "eTokenProxyRenewal":"",
                  "ProxyRFC":""
               }
            },
            {  
               "JSAGA":{  
                  "Executable":"",
                  "Arguments":"",
                  "InputSandbox":"",
                  "OutputSandbox":"",
                  "OutputFile":"",
                  "ErrorFile":""
               }
            },
            {  
               "resourceList":[  
                  {  
                     "resource":[  
                        {  
                           "hostname":"",
                           "port":"",
                           "resource":"",
                           "action":"",
                           "attributes_title":"",
                           "mixin_os_tpl":"",
                           "mixin_resource_tpl":"",
                           "auth":"",
                           "publickey_file":"",
                           "privatekey_file":""
                        }
                     ]
                  }
               ]
            }
         ]
      }
   ]
}
```
## EMIGrid
```
{  
   "EMIGrid-infrastructure":[  
      {  
         "infrastructure":[  
            {  
               "genericInfo":{  
                  "Name":"",
                  "Description":"",
                  "Enabled":""
               }
            },
            {  
               "robotSecuriry":{  
                  "eTokenHost":"",
                  "eTokenPort":"",
                  "eTokenMd5Sum":"",
                  "eTokenVO":"",
                  "eTokenVOGroup":"",
                  "eTokenProxyRenewal":"",
                  "ProxyRFC":""
               }
            },
            {  
               "JSAGA":{  
                  "Executable":"",
                  "Arguments":"",
                  "InputSandbox":"",
                  "OutputSandbox":"",
                  "OutputFile":"",
                  "ErrorFile":""
               }
            },
            {  
               "EMIGrid":{  
                  "softwareTag":"",
                  "jdlRequirements":""
               }
            }
         ]
      }
   ]
}
```
